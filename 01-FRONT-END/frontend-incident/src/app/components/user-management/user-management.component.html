<div class="relative">

  <!-- Modal -->
  <div
    data-twe-modal-init
    class="absolute inset-0 z-[2000] hidden bg-black w-full h-screen bg-opacity-50 p-4 overflow-y-auto overflow-x-hidden outline-none"
    id="exampleModal"
    tabindex="-1"
    aria-labelledby="exampleModalLabel"
    aria-hidden="true">
    <div class="w-full h-full grid place-items-center">
      <div
        data-twe-modal-dialog-ref
        class="relative w-full max-w-md mx-auto bg-white rounded-md shadow-lg">
        <!-- Modal Content -->
        <div
          class="relative flex flex-col rounded-md bg-white shadow-lg outline-none">
          <!-- Modal Header -->
          <div
            class="flex items-center justify-between rounded-t-md border-b border-neutral-100 p-4">
            <h5
              class="text-xl font-bold text-gray-800"
              id="exampleModalLabel">
              Enable Professional
            </h5>
            <button
              type="button"
              class="text-gray-500 hover:text-gray-800 focus:outline-none"
              data-twe-modal-dismiss

              (click)="dismissEnableProfessional()"

              aria-label="Close">
              <svg
                xmlns="http://www.w3.org/2000/svg"
                fill="none"
                viewBox="0 0 24 24"
                stroke-width="1.5"
                stroke="currentColor"
                class="w-6 h-6">
                <path
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  d="M6 18L18 6M6 6l12 12"/>
              </svg>
            </button>
          </div>

          <!-- Modal Body -->
          <div class="">
            <div class="w-full max-w-md bg-white  rounded-lg p-6 relative">

              <div class="my-8 text-center">
                <i
                  *ngIf="isEnabledProfessional"
                  class="fa-solid fa-check-double text-2xl text-green-500"></i>
                <i
                  *ngIf="!isEnabledProfessional"
                  class="fa-solid fa-handshake-slash text-2xl text-red-500">

                </i>
                <h4 class="text-gray-800 text-lg font-semibold mt-4">Are you sure you want
                  to <span
                    class="font-bold"
                    [ngClass]="isEnabledProfessional ?'text-green-500':'text-red-500'"
                  >{{ isEnabledProfessional ? 'Enable' : 'Disable' }}</span> it ?</h4>
              </div>

            </div>

          </div>


          <!-- Modal Footer -->
          <div class="flex flex-col items-center gap-2 border-t border-neutral-100 p-4">

            <button
              type="button"
              data-twe-modal-dismiss

              (click)="confirmEnableProfessional()"
              class="w-full px-4 py-2 text-sm font-medium text-white bg-blue-600 rounded-lg hover:bg-blue-700 focus:outline-none">
              Confirm

            </button>
            <button
              type="button"
              class="w-full px-4 py-2 text-sm font-medium text-gray-700 bg-gray-200 rounded-lg hover:bg-gray-300 focus:outline-none"
              data-twe-modal-dismiss

              (click)="dismissEnableProfessional()"
            >
              Cancel
            </button>
          </div>
        </div>
      </div>
    </div>
  </div>


  <section class="bg-gray-50 p-4 mb-4">
    <div class="relative grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4">

      <!-- Search fullname Bar -->
      <div class="w-full">
        <label class="block mb-1 text-sm font-medium text-gray-700">
          Search by full name:
        </label>
        <div class="relative z-1">
          <input
            class="w-full bg-white text-gray-800 text-sm border border-gray-300 pl-10 pr-3 h-10 shadow-sm  focus:ring-green-500 focus:border-green-500 hover:border-gray-400 transition duration-200"
            placeholder="user full name..."
            [(ngModel)]="filterFullname"
            (input)="handleFilterChange()"
          />
          <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5"
               stroke="currentColor"
               class="absolute left-3 top-2.5 h-5 w-5 text-gray-400">
            <path stroke-linecap="round" stroke-linejoin="round"
                  d="M21 21l-5.2-5.2M16.2 10.4a5.8 5.8 0 1 1-11.6 0 5.8 5.8 0 0 1 11.6 0z"/>
          </svg>
        </div>
      </div>


      <!-- Search username Bar -->
      <div class="w-full">
        <label class="block mb-1 text-sm font-medium text-gray-700">
          Search by email:
        </label>
        <div class="relative z-1">
          <input
            class="w-full bg-white text-gray-800 text-sm border border-gray-300 pl-10 pr-3 h-10 shadow-sm  focus:ring-green-500 focus:border-green-500 hover:border-gray-400 transition duration-200"
            placeholder="user email..."
            [(ngModel)]="filterUsername"
            (input)="handleFilterChange()"
          />
          <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5"
               stroke="currentColor"
               class="absolute left-3 top-2.5 h-5 w-5 text-gray-400">
            <path stroke-linecap="round" stroke-linejoin="round"
                  d="M21 21l-5.2-5.2M16.2 10.4a5.8 5.8 0 1 1-11.6 0 5.8 5.8 0 0 1 11.6 0z"/>
          </svg>
        </div>
      </div>

      <!--     Filter Enabled Dropdown -->
      <div class="w-full">
        <label class="block mb-1 text-sm font-medium text-gray-700">
          Enabled:
        </label>
        <div class="relative z-1">
          <select
            [(ngModel)]="filterEnabled"
            (change)="handleFilterChange()"
            class="w-full bg-white text-gray-800 text-sm border border-gray-300 pl-3 pr-8 h-10 shadow-sm  focus:ring-green-500 focus:border-green-500 hover:border-gray-400 transition duration-200 cursor-pointer appearance-none"
            style="-webkit-appearance: none;">
            <option [ngValue]="null">ALL</option>
            <option *ngFor="let enabledCase of enabledCases"
                    [ngValue]="enabledCase.val">{{ enabledCase.case.toUpperCase() }}
            </option>
          </select>
          <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5"
               stroke="currentColor"
               class="absolute right-3 top-2.5 h-5 w-5 text-gray-400">
            <path stroke-linecap="round" stroke-linejoin="round" d="M8.25 15 12 18.75 15.75 15m-7.5-6L12 5.25 15.75 9"/>
          </svg>
        </div>
      </div>


      <!-- Filter Sector Dropdown (Visible to Admin Only) -->
      <div class="w-full">
        <label class="block mb-1 text-sm font-medium text-gray-700">
          Sector:
        </label>
        <div class="relative z-1">
          <select
            [(ngModel)]="filterSectorId"
            (change)="handleFilterChange()"
            class="w-full bg-white text-gray-800 text-sm border border-gray-300 pl-3 pr-8 h-10 shadow-sm  focus:ring-green-500 focus:border-green-500 hover:border-gray-400 transition duration-200 cursor-pointer appearance-none"
            style="-webkit-appearance: none;">
            <option [ngValue]="null">ALL</option>
            <option *ngFor="let sector of sectors" [ngValue]="sector.id">{{ sector.name }}</option>
          </select>
          <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5"
               stroke="currentColor"
               class="absolute right-3 top-2.5 h-5 w-5 text-gray-400">
            <path stroke-linecap="round" stroke-linejoin="round" d="M8.25 15 12 18.75 15.75 15m-7.5-6L12 5.25 15.75 9"/>
          </svg>
        </div>
      </div>

      <!--    &lt;!&ndash; Filter Types Dropdown &ndash;&gt;-->
      <!--    <div class="w-full">-->
      <!--      <label class="block mb-1 text-sm font-medium text-gray-700">-->
      <!--        Type:-->
      <!--      </label>-->
      <!--      <div class="relative z-1">-->
      <!--        <select-->
      <!--          [(ngModel)]="selectedType"-->
      <!--          (change)="handleFilterIncidents()"-->
      <!--          class="w-full bg-white text-gray-800 text-sm border border-gray-300 pl-3 pr-8 h-10 shadow-sm  focus:ring-green-500 focus:border-green-500 hover:border-green-500 transition duration-200 cursor-pointer appearance-none"-->
      <!--          style="-webkit-appearance: none;">-->
      <!--          <option [ngValue]="null">ALL</option>-->
      <!--          <option *ngFor="let type of filteredTypes" [value]="type.id">{{ type.name }}</option>-->
      <!--        </select>-->
      <!--        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"-->
      <!--             class="absolute right-3 top-2.5 h-5 w-5 text-gray-400">-->
      <!--          <path stroke-linecap="round" stroke-linejoin="round" d="M8.25 15 12 18.75 15.75 15m-7.5-6L12 5.25 15.75 9"/>-->
      <!--        </svg>-->
      <!--      </div>-->
      <!--    </div>-->

      <!-- Add Reset Button -->
      <div class="flex justify-center items-center absolute -right-4 -top-4 w-fit bg-black">
        <button type="button"
                (click)="resetFilters()"
                class="p-2 flex items-center justify-center text-white text-sm tracking-wider font-medium border-none outline-none bg-red-600 hover:bg-red-700 active:bg-red-600  shadow-lg">
          <svg xmlns="http://www.w3.org/2000/svg" width="12px" fill="currentColor" class="inline"
               viewBox="0 0 320.591 320.591">
            <path
              d="M30.391 318.583a30.37 30.37 0 0 1-21.56-7.288c-11.774-11.844-11.774-30.973 0-42.817L266.643 10.665c12.246-11.459 31.462-10.822 42.921 1.424 10.362 11.074 10.966 28.095 1.414 39.875L51.647 311.295a30.366 30.366 0 0 1-21.256 7.288z"
              data-original="#000000"/>
            <path
              d="M287.9 318.583a30.37 30.37 0 0 1-21.257-8.806L8.83 51.963C-2.078 39.225-.595 20.055 12.143 9.146c11.369-9.736 28.136-9.736 39.504 0l259.331 257.813c12.243 11.462 12.876 30.679 1.414 42.922-.456.487-.927.958-1.414 1.414a30.368 30.368 0 0 1-23.078 7.288z"
              data-original="#000000"/>
          </svg>
        </button>
      </div>

    </div>
  </section>


  <div class="font-[sans-serif] overflow-x-auto">
    <table class="min-w-full bg-white">
      <thead class="whitespace-nowrap">
      <tr class="bg-blue-700">
        <th class="p-4 text-left text-sm font-semibold text-black">
          Username
        </th>
        <th class="p-4 text-left text-sm font-semibold text-black">
          Email
        </th>
        <th class="p-4 text-left text-sm font-semibold text-black">
          Sector
          <!--        <svg xmlns="http://www.w3.org/2000/svg" class="w-3 h-3 fill-gray-400 inline cursor-pointer ml-2"-->
          <!--             viewBox="0 0 401.998 401.998">-->
          <!--          <path-->
          <!--            d="M73.092 164.452h255.813c4.949 0 9.233-1.807 12.848-5.424 3.613-3.616 5.427-7.898 5.427-12.847s-1.813-9.229-5.427-12.85L213.846 5.424C210.232 1.812 205.951 0 200.999 0s-9.233 1.812-12.85 5.424L60.242 133.331c-3.617 3.617-5.424 7.901-5.424 12.85 0 4.948 1.807 9.231 5.424 12.847 3.621 3.617 7.902 5.424 12.85 5.424zm255.813 73.097H73.092c-4.952 0-9.233 1.808-12.85 5.421-3.617 3.617-5.424 7.898-5.424 12.847s1.807 9.233 5.424 12.848L188.149 396.57c3.621 3.617 7.902 5.428 12.85 5.428s9.233-1.811 12.847-5.428l127.907-127.906c3.613-3.614 5.427-7.898 5.427-12.848 0-4.948-1.813-9.229-5.427-12.847-3.614-3.616-7.899-5.42-12.848-5.42z"-->
          <!--            data-original="#000000" />-->
          <!--        </svg>-->
        </th>
        <th class="p-4 text-left text-sm font-semibold text-black">
          Enabled
          <!--        <svg xmlns="http://www.w3.org/2000/svg" class="w-3 h-3 fill-gray-400 inline cursor-pointer ml-2"-->
          <!--             viewBox="0 0 401.998 401.998">-->
          <!--          <path-->
          <!--            d="M73.092 164.452h255.813c4.949 0 9.233-1.807 12.848-5.424 3.613-3.616 5.427-7.898 5.427-12.847s-1.813-9.229-5.427-12.85L213.846 5.424C210.232 1.812 205.951 0 200.999 0s-9.233 1.812-12.85 5.424L60.242 133.331c-3.617 3.617-5.424 7.901-5.424 12.85 0 4.948 1.807 9.231 5.424 12.847 3.621 3.617 7.902 5.424 12.85 5.424zm255.813 73.097H73.092c-4.952 0-9.233 1.808-12.85 5.421-3.617 3.617-5.424 7.898-5.424 12.847s1.807 9.233 5.424 12.848L188.149 396.57c3.621 3.617 7.902 5.428 12.85 5.428s9.233-1.811 12.847-5.428l127.907-127.906c3.613-3.614 5.427-7.898 5.427-12.848 0-4.948-1.813-9.229-5.427-12.847-3.614-3.616-7.899-5.42-12.848-5.42z"-->
          <!--            data-original="#000000" />-->
          <!--        </svg>-->
        </th>
        <th class="p-4 text-left text-sm font-semibold text-black">
          Action
        </th>
      </tr>
      </thead>

      <tbody class="whitespace-nowrap">
      <tr *ngFor="let professional of professionals;let ind=index"
          class="odd:bg-blue-50">
        <!--      <td class="pl-4 w-8">-->
        <!--&lt;!&ndash;        <input id="checkbox1" type="checkbox" class="hidden peer" />&ndash;&gt;-->
        <!--        <label for="checkbox1"-->
        <!--               class="relative z-1 flex items-center justify-center p-0.5 peer-checked:before:hidden before:block before:absolute before:w-full before:h-full before:bg-white w-5 h-5 cursor-pointer bg-blue-500 border border-gray-400 overflow-hidden">-->
        <!--          <svg xmlns="http://www.w3.org/2000/svg" class="w-full fill-white" viewBox="0 0 520 520">-->
        <!--            <path-->
        <!--              d="M79.423 240.755a47.529 47.529 0 0 0-36.737 77.522l120.73 147.894a43.136 43.136 0 0 0 36.066 16.009c14.654-.787 27.884-8.626 36.319-21.515L486.588 56.773a6.13 6.13 0 0 1 .128-.2c2.353-3.613 1.59-10.773-3.267-15.271a13.321 13.321 0 0 0-19.362 1.343q-.135.166-.278.327L210.887 328.736a10.961 10.961 0 0 1-15.585.843l-83.94-76.386a47.319 47.319 0 0 0-31.939-12.438z"-->
        <!--              data-name="7-Check" data-original="#000000" />-->
        <!--          </svg>-->
        <!--        </label>-->
        <!--      </td>-->
        <td class="p-4 text-sm">
          <div class="flex items-center cursor-pointer w-max">
            <!--          <img src='https://readymadeui.com/profile_4.webp' class="w-9 h-9 rounded-full shrink-0" />-->
            <div class="ml-4">
              <p class="text-sm text-black">{{ professional.fullname }}</p>
            </div>
          </div>
        </td>
        <td class="p-4 text-sm text-black">
          {{ professional.username }}
        </td>
        <td class="p-4 text-sm text-black">
          {{ professional.sectorDTO?.name || 'no' }}
        </td>
        <td class="p-4">
          <label class="relative z-1 cursor-pointer">
            <input type="checkbox"

                   data-twe-toggle="modal"
                   data-twe-target="#exampleModal"
                   data-twe-ripple-init
                   data-twe-ripple-color="light"

                   [(ngModel)]="professional.enabled"
                   (change)="handleEnableProfessional(professional.id,professional.enabled)"
                   class="sr-only peer" checked/>
            <div
              class="w-11 h-6 flex items-center bg-gray-300 rounded-full peer peer-checked:after:translate-x-full after:absolute after:left-[2px] peer-checked:after:border-white after:bg-white after:border after:border-gray-300 after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-[#007bff]">
            </div>
          </label>
        </td>
        <td class="p-4">
<!--          <button class="mr-4" title="Edit">-->
<!--            <svg xmlns="http://www.w3.org/2000/svg" class="w-5 fill-blue-500 hover:fill-blue-700"-->
<!--                 viewBox="0 0 348.882 348.882">-->
<!--              <path-->
<!--                d="m333.988 11.758-.42-.383A43.363 43.363 0 0 0 304.258 0a43.579 43.579 0 0 0-32.104 14.153L116.803 184.231a14.993 14.993 0 0 0-3.154 5.37l-18.267 54.762c-2.112 6.331-1.052 13.333 2.835 18.729 3.918 5.438 10.23 8.685 16.886 8.685h.001c2.879 0 5.693-.592 8.362-1.76l52.89-23.138a14.985 14.985 0 0 0 5.063-3.626L336.771 73.176c16.166-17.697 14.919-45.247-2.783-61.418zM130.381 234.247l10.719-32.134.904-.99 20.316 18.556-.904.99-31.035 13.578zm184.24-181.304L182.553 197.53l-20.316-18.556L294.305 34.386c2.583-2.828 6.118-4.386 9.954-4.386 3.365 0 6.588 1.252 9.082 3.53l.419.383c5.484 5.009 5.87 13.546.861 19.03z"-->
<!--                data-original="#000000"/>-->
<!--              <path-->
<!--                d="M303.85 138.388c-8.284 0-15 6.716-15 15v127.347c0 21.034-17.113 38.147-38.147 38.147H68.904c-21.035 0-38.147-17.113-38.147-38.147V100.413c0-21.034 17.113-38.147 38.147-38.147h131.587c8.284 0 15-6.716 15-15s-6.716-15-15-15H68.904C31.327 32.266.757 62.837.757 100.413v180.321c0 37.576 30.571 68.147 68.147 68.147h181.798c37.576 0 68.147-30.571 68.147-68.147V153.388c.001-8.284-6.715-15-14.999-15z"-->
<!--                data-original="#000000"/>-->
<!--            </svg>-->
<!--          </button>-->
          <button title="Delete">
            <svg xmlns="http://www.w3.org/2000/svg" class="w-5 fill-red-500 hover:fill-red-700" viewBox="0 0 24 24">
              <path
                d="M19 7a1 1 0 0 0-1 1v11.191A1.92 1.92 0 0 1 15.99 21H8.01A1.92 1.92 0 0 1 6 19.191V8a1 1 0 0 0-2 0v11.191A3.918 3.918 0 0 0 8.01 23h7.98A3.918 3.918 0 0 0 20 19.191V8a1 1 0 0 0-1-1Zm1-3h-4V2a1 1 0 0 0-1-1H9a1 1 0 0 0-1 1v2H4a1 1 0 0 0 0 2h16a1 1 0 0 0 0-2ZM10 4V3h4v1Z"
                data-original="#000000"/>
              <path d="M11 17v-7a1 1 0 0 0-2 0v7a1 1 0 0 0 2 0Zm4 0v-7a1 1 0 0 0-2 0v7a1 1 0 0 0 2 0Z"
                    data-original="#000000"/>
            </svg>
          </button>
        </td>
      </tr>

      </tbody>
    </table>

    <div class="md:flex my-4">
      <p class="text-sm text-gray-500 flex-1">Showing {{ sliceTotalElements }} to {{ sliceTotalElements }}
        of {{ totalElements }} entries</p>

      <div class="flex items-center max-md:mt-4">
        <p class="text-sm text-gray-500">Display</p>
        <select
          [(ngModel)]="pageSize"
          (ngModelChange)="onPageSizeChange($event)"
          class="text-sm text-gray-500 border border-gray-400 h-7 mx-4 px-1 outline-none">
          <option *ngFor="let op of pageSizeOptions " [value]="op">{{ op }}</option>
        </select>

        <ul class="flex space-x-1 ml-2">
          <li
            (click)="prevPage()"
            class="flex items-center justify-center cursor-pointer bg-blue-100 w-7 h-7 ">
            <svg xmlns="http://www.w3.org/2000/svg" class="w-3 fill-gray-500" viewBox="0 0 55.753 55.753">
              <path
                d="M12.745 23.915c.283-.282.59-.52.913-.727L35.266 1.581a5.4 5.4 0 0 1 7.637 7.638L24.294 27.828l18.705 18.706a5.4 5.4 0 0 1-7.636 7.637L13.658 32.464a5.367 5.367 0 0 1-.913-.727 5.367 5.367 0 0 1-1.572-3.911 5.369 5.369 0 0 1 1.572-3.911z"
                data-original="#000000"/>
            </svg>
          </li>
          <li
            *ngFor="let page of pages"
            (click)="goToPage(page)"
            [ngClass]="page == currentPage ?'bg-zinc-200 text-black':''"
            class="flex items-center justify-center cursor-pointer text-sm w-7 h-7 text-gray-500 ">
            {{ page + 1 }}
          </li>

          <li
            (click)="nextPage()"
            class="flex items-center justify-center cursor-pointer bg-blue-100 w-7 h-7 "
          >
            <svg xmlns="http://www.w3.org/2000/svg" class="w-3 fill-gray-500 rotate-180" viewBox="0 0 55.753 55.753">
              <path
                d="M12.745 23.915c.283-.282.59-.52.913-.727L35.266 1.581a5.4 5.4 0 0 1 7.637 7.638L24.294 27.828l18.705 18.706a5.4 5.4 0 0 1-7.636 7.637L13.658 32.464a5.367 5.367 0 0 1-.913-.727 5.367 5.367 0 0 1-1.572-3.911 5.369 5.369 0 0 1 1.572-3.911z"
                data-original="#000000"/>
            </svg>
          </li>
        </ul>
      </div>
    </div>
  </div>

</div>




